
<div class="page-content" >
    <h5 class="pull-left">用户列表</h5>
    <div class="dataTables_filter" id="searchDiv">
        <input type="checkbox" value="1"  id="refresh" name="refresh"> 自动刷新?
        <input placeholder="请输入片名" name="subjectMain" class="form-control" type="search" likeOption="true"/>
        <input placeholder="请输入年份" name="year" class="form-control" type="search" />
        <div class="btn-group">
            <button type="button" class="btn btn-primary" data-btn-type="search">查询</button>
            <button type="button" class="btn btn-default" data-btn-type="reset">重置</button>
        </div>
        <div class="btn-group">
            <button type="button" class="btn btn-default" data-btn-type="add">新增</button>
            <button type="button" class="btn btn-default" data-btn-type="edit">编辑</button>
            <button type="button" class="btn btn-default" data-btn-type="delete">删除</button>
        </div>
    </div>
    <div class="row">
            <!-- PAGE CONTENT BEGINS -->
            <table id="film_list" class="table table-bordered table-hover">
            </table>
            <!-- PAGE CONTENT ENDS -->
    </div><!-- /.row -->

</div><!-- /.page-content -->


<script>
    //tableId,queryId,conditionContainer
    var userTable;
    var dataUrl ="${dataUrl}";
    $(function() {
        //init table and fill data
        userTable = new CommonTable("film_list", dataUrl, "searchDiv");

        setInterval(function () {
           if ($("#refresh").is(':checked')) {
               refreshAuto();
           }else{
              // console.log("unchecked");
           }

        }, 5000);
    });




    function refreshAuto() {
        //console.log("refresh table");
        userTable.reloadData();
    }


</script>